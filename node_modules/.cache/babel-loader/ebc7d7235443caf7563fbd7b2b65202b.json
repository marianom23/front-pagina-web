{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Mariano Martin\\\\Desktop\\\\app2\\\\MDB5-REACT-UI-KIT-Free-4.0.0\\\\src\\\\components\\\\generales\\\\Login.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useContext, useEffect, useState } from 'react';\nimport { Navbar } from './Navbar';\nimport { Footer } from './Footer';\nimport { useNavigate } from 'react-router-dom';\nimport axios from 'axios';\nimport { gapi } from 'gapi-script';\nimport Cookies from 'universal-cookie';\nimport { MDBInput, MDBCol, MDBRow, MDBCheckbox, MDBBtn, MDBContainer } from 'mdb-react-ui-kit';\nimport { AppRouter } from '../../routes/AppRouter';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const Login = () => {\n  _s();\n\n  const clientId = \"664754626894-llp569b8q2er9gq0b11ib1j50529evju.apps.googleusercontent.com\";\n  const [data, setData] = useState({\n    email: \"\",\n    hash: \"\"\n  });\n  let navigate = useNavigate();\n\n  const handleChange = _ref => {\n    let {\n      target\n    } = _ref;\n    setData({ ...data,\n      [target.name]: target.value\n    });\n  };\n\n  const handleSubmit = async e => {\n    if (data.email === '' || data.hash === '') {\n      alert('Todos los campos son obligatorios');\n      return;\n    }\n\n    e.preventDefault();\n    const res = await axios.post('https://el-buen-sabor.herokuapp.com/login', data);\n\n    if (res.status === 200) {\n      const user = res.data;\n      console.log(\"user:\", user);\n      console.log(\"status:\", res.status); // set cookies\n\n      const cookies = new Cookies();\n      cookies.set('id', user.id, {\n        path: '/'\n      });\n      cookies.set('email', user.email, {\n        path: '/'\n      });\n      cookies.set('rol', user.rol, {\n        path: '/'\n      });\n      cookies.set('nombre', user.nombre, {\n        path: '/'\n      }); // set sessionStorage\n      // sessionStorage.setItem('id', user.id)\n      // sessionStorage.setItem('email', user.email)\n      // sessionStorage.setItem('rol', user.rol)\n      // sessionStorage.setItem('nombre', user.nombre)\n\n      localStorage.setItem('id', user.id);\n      localStorage.setItem('email', user.email);\n      localStorage.setItem('rol', user.rol);\n      localStorage.setItem('nombre', user.nombre);\n    }\n\n    alert('Ha entrado exitosamente');\n    navigate(\"/inicio\", {\n      replace: true\n    });\n  };\n\n  useEffect(() => {\n    function start() {\n      gapi.client.init({\n        clientId: clientId,\n        scope: \"\"\n      });\n    }\n\n    gapi.load('client:auth2', start);\n  });\n  return /*#__PURE__*/_jsxDEV(MDBContainer, {\n    fluid: true,\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(MDBInput, {\n          value: data.email,\n          onChange: handleChange,\n          name: \"email\",\n          className: \"mb-4\",\n          type: \"text\",\n          id: \"email\",\n          label: \"Email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(MDBInput, {\n          value: data.hash,\n          onChange: handleChange,\n          name: \"hash\",\n          className: \"mb-4\",\n          type: \"password\",\n          id: \"hash\",\n          label: \"Contrase\\xF1a\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(MDBRow, {\n          className: \"mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(MDBCol, {\n            className: \"d-flex justify-content-center\",\n            children: /*#__PURE__*/_jsxDEV(MDBCheckbox, {\n              id: \"form2Example3\",\n              label: \"Recuerdame\",\n              defaultChecked: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(MDBCol, {\n            children: /*#__PURE__*/_jsxDEV(\"a\", {\n              href: \"#!\",\n              children: \"Olvidaste tu contrase\\xF1a?\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 95,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(MDBBtn, {\n          type: \"submit\",\n          className: \"mb-4\",\n          block: true,\n          children: \"Entrar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"No sos miembro? \", /*#__PURE__*/_jsxDEV(\"a\", {\n              href: \"/register\",\n              children: \"Registrate\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 105,\n              columnNumber: 31\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"o entra con:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Salir de la cuenta actual:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 82,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Login, \"TBYQxRTr7UT9FDTBLkFG/xpYbrU=\", false, function () {\n  return [useNavigate];\n});\n\n_c = Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useContext","useEffect","useState","Navbar","Footer","useNavigate","axios","gapi","Cookies","MDBInput","MDBCol","MDBRow","MDBCheckbox","MDBBtn","MDBContainer","AppRouter","Login","clientId","data","setData","email","hash","navigate","handleChange","target","name","value","handleSubmit","e","alert","preventDefault","res","post","status","user","console","log","cookies","set","id","path","rol","nombre","localStorage","setItem","replace","start","client","init","scope","load"],"sources":["C:/Users/Mariano Martin/Desktop/app2/MDB5-REACT-UI-KIT-Free-4.0.0/src/components/generales/Login.jsx"],"sourcesContent":["import React, { useContext, useEffect, useState } from 'react';\nimport { Navbar } from './Navbar';\nimport { Footer } from './Footer';\nimport { useNavigate } from 'react-router-dom';\nimport axios from 'axios';\nimport { gapi } from 'gapi-script';\nimport Cookies from 'universal-cookie'\n\nimport {\n  MDBInput,\n  MDBCol,\n  MDBRow,\n  MDBCheckbox,\n  MDBBtn,\n  MDBContainer\n} from 'mdb-react-ui-kit';\nimport { AppRouter } from '../../routes/AppRouter';\n\n\n\nexport const Login = () => {\n  const clientId = \"664754626894-llp569b8q2er9gq0b11ib1j50529evju.apps.googleusercontent.com\"\n\n  const [data, setData] = useState({ email: \"\", hash: \"\" })\n\n\n  let navigate = useNavigate();\n  const handleChange = ({ target }) => {\n    setData({\n      ...data,\n      [target.name]: target.value\n    })\n  }\n\n  const handleSubmit = async (e) => {\n    if (data.email === '' || data.hash === '') {\n      alert('Todos los campos son obligatorios')\n      return\n    }\n    e.preventDefault()\n    const res = await axios.post('https://el-buen-sabor.herokuapp.com/login', data)\n\n    if (res.status === 200) {\n      const user = res.data\n      console.log(\"user:\", user)\n      console.log(\"status:\", res.status)\n      // set cookies\n      const cookies = new Cookies();\n      cookies.set('id', user.id, { path: '/' });\n      cookies.set('email', user.email, { path: '/' });\n      cookies.set('rol', user.rol, { path: '/' });\n      cookies.set('nombre', user.nombre, { path: '/' });\n\n      // set sessionStorage\n      // sessionStorage.setItem('id', user.id)\n      // sessionStorage.setItem('email', user.email)\n      // sessionStorage.setItem('rol', user.rol)\n      // sessionStorage.setItem('nombre', user.nombre)\n      localStorage.setItem('id', user.id)\n      localStorage.setItem('email', user.email)\n      localStorage.setItem('rol', user.rol)\n      localStorage.setItem('nombre', user.nombre)\n\n    }\n\n\n    alert('Ha entrado exitosamente')\n    navigate(\"/inicio\", { replace: true });\n  }\n\n  useEffect(() => {\n    function start() {\n      gapi.client.init({\n        clientId: clientId,\n        scope: \"\"\n      })\n    }\n    gapi.load('client:auth2', start)\n  })\n\n  return (\n    <MDBContainer fluid>\n      <Navbar />\n      <br />\n      <div className=\"container\">\n        <form onSubmit={handleSubmit}>\n          <MDBInput value={data.email} onChange={handleChange} name=\"email\" className='mb-4' type='text' id='email' label='Email' />\n          <MDBInput value={data.hash} onChange={handleChange} name=\"hash\" className='mb-4' type='password' id='hash' label='Contraseña' />\n\n          <MDBRow className='mb-4'>\n            <MDBCol className='d-flex justify-content-center'>\n              <MDBCheckbox id='form2Example3' label='Recuerdame' defaultChecked />\n            </MDBCol>\n            <MDBCol>\n              <a href='#!'>Olvidaste tu contraseña?</a>\n            </MDBCol>\n          </MDBRow>\n\n          <MDBBtn type='submit' className='mb-4' block>\n            Entrar\n          </MDBBtn>\n\n          <div className='text-center'>\n            <p>\n              No sos miembro? <a href='/register'>Registrate</a>\n            </p>\n            <p>o entra con:</p>\n\n            {/* <MDBBtn floating className='mx-1'>\n                  <MDBIcon fab icon='google' />\n                </MDBBtn>    */}\n\n            <br />\n            <p>Salir de la cuenta actual:</p>\n\n          </div>\n        </form>\n      </div>\n      <br />\n      <Footer />\n    </MDBContainer>\n  );\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}